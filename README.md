# 🚀 @mursfoto/cli

**Mursfoto AutoDev Factory 3.2 - MCP生態系統整合 + AI 驅動的智能自動化開發工具**

一個革命性的 CLI 工具，結合 MCP (Model Context Protocol) 生態系統、AI 智能和自動化技術，用於快速創建、部署和管理與 Mursfoto API Gateway 整合的 Web 服務。

[![npm version](https://badge.fury.io/js/@mursfoto/cli.svg)](https://www.npmjs.com/package/@mursfoto/cli)
[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)
[![Build Status](https://github.com/YenRuHuang/mursfoto-cli/workflows/CI/badge.svg)](https://github.com/YenRuHuang/mursfoto-cli/actions)

## 🎯 Phase 4 - MCP生態系統整合 (最新)

### 🔌 **統一MCP管理器 (MCPManager)**
- **10個MCP服務支持** - 文件系統、記憶、數據庫、瀏覽器、視覺、GitHub等
- **智能回退機制** - 在任何環境都能100%穩定運作
- **Cline環境整合** - 真正可用的Vision MCP支持截圖和圖片分析
- **企業級穩定性** - 三重重試機制和完整錯誤處理

### 🌐 **第三方MCP服務器整合**
- **@notionhq/notion-mcp-server** - Notion API完整整合
- **@sentry/mcp-server** - 專業錯誤監控和追蹤系統
- **@supabase/mcp-server-supabase** - 現代化數據庫服務整合
- **@agent-infra/mcp-server-browser** - 高級瀏覽器自動化工具

### � **17個推薦MCP服務器生態**
- **官方服務器** - filesystem, memory, sequential-thinking, everything
- **開發工具** - GitHub, Puppeteer, Code Runner, Kubernetes
- **雲端服務** - Heroku, Supabase, Alchemy, HubSpot
- **專業工具** - Sentry, Notion, Figma, YouTube Data
- **新興平台** - OneUptime, Graphlit, Currents

### 🎯 **真實環境驗證**
- **Vision MCP**: 在Cline中100%功能驗證通過
  - 桌面截圖 ✅
  - OCR文字識別 ✅
  - UI元素分析 ✅
- **回退機制**: 所有服務100%覆蓋測試
- **企業部署**: 完整的MCP配置指南

## �📍 Phase 2 - 智能自動化功能

### 🧠 **智能學習和決策系統**
- **用戶行為學習引擎** - 自動分析開發習慣和命令使用模式
- **智能建議系統** - 基於使用歷史提供個人化建議
- **工作流程優化** - 自動識別並建議效率提升方案
- **錯誤模式記憶** - 學習錯誤解決方案，避免重複問題

### 🤖 **AI 驅動的代碼生成**
- **自然語言轉代碼** - 使用 Anthropic Claude API 進行智能代碼生成
- **上下文感知生成** - 根據項目結構生成相符的代碼
- **多框架支援** - 支援 React、Vue、Express、FastAPI 等
- **品質自動檢查** - 生成代碼的語法、安全性、效能檢查

### 🔄 **完全自動化工作流程**
- **GitHub 全生命周期自動化** - 從創建倉庫到 Release 發布
- **零停機智能部署** - Blue-Green、Canary、Rolling 等部署策略
- **智能測試生成** - 自動生成單元測試、整合測試
- **CI/CD 管道自動設置** - 一鍵配置完整的 DevOps 流程

## 🌍 Phase 3 - 雲端和容器管理

### 🌍 **多雲平台管理系統**
- **統一多雲抽象層** - 支援 AWS、Azure、GCP、DigitalOcean、Vercel
- **智能平台推薦** - 基於需求的多維度評分算法
- **成本比較分析** - 跨平台成本對比和優化建議
- **一鍵多雲部署** - 統一命令管理多個雲平台

### 🐳 **容器優化服務**
- **智能 Dockerfile 生成** - 自動優化的容器配置
- **Kubernetes YAML 自動生成** - 完整的 K8s 部署配置
- **容器安全掃描** - 多層次安全檢查機制
- **映像優化建議** - 自動化最佳實踐推薦

### 💰 **成本分析服務**  
- **智能成本預測** - 基於歷史數據的成本趨勢分析
- **跨平台成本比較** - 多雲平台成本效益比較
- **預算警報系統** - 自動成本監控和預警
- **成本優化引擎** - AI 驅動的成本節省建議

## 🎯 核心功能特點

### Phase 1 (基礎自動化)
- 🚀 **快速項目創建** - 多種內建模板，一鍵生成完整項目結構
- 🔗 **Gateway 自動集成** - 自動註冊服務到 Mursfoto API Gateway
- 🏥 **智能環境診斷** - 全面的系統健康檢查和依賴驗證
- 📊 **實時狀態監控** - 服務狀態、Gateway 連接監控
- ⚙️ **配置管理** - 靈活的用戶配置和模板管理
- 🚀 **一鍵部署** - 自動部署到 Zeabur 雲平台

### Phase 2 (智能自動化) ✨
- 🧠 **智能學習系統** - 個人化的開發助手和建議引擎
- 🤖 **AI 代碼生成器** - Claude API 驅動的智能代碼生成
- 🔄 **GitHub 自動化** - 完整的 GitHub 操作自動化
- 🧪 **智能測試自動化** - 自動測試生成和覆蓋率優化
- 🚀 **智能部署管道** - 零停機部署和自動回滾
- 📊 **效能監控優化** - 自動化效能分析和優化建議
- 🔧 **錯誤記憶系統** - 智能錯誤解決方案推薦
- 🎨 **進階模板管理** - AI 驅動的模板生成和市場

### Phase 3 (雲端容器管理) 🌍
- 🌍 **多雲平台管理** - 統一管理 AWS、Azure、GCP、DO、Vercel
- 🐳 **容器優化服務** - Docker/K8s 配置自動生成和優化  
- 💰 **成本分析引擎** - 智能成本預測和跨平台比較
- 🔒 **安全掃描系統** - 多層次容器安全檢查
- 📊 **效能監控** - 雲端資源使用情況追蹤
- 🎯 **智能推薦** - 基於需求的平台和配置建議

### Phase 4 (MCP生態系統) 🔌
- 🔌 **MCPManager統一管理** - 10個MCP服務統一接口
- 🔄 **智能回退機制** - 100%環境兼容性保證
- 🖼️ **Vision MCP整合** - Cline環境中的視覺分析能力
- 🌐 **第三方服務器支持** - Notion、Sentry、Supabase、Browser
- 📚 **17個推薦服務器** - 完整的MCP生態系統清單
- 🏢 **企業級配置** - 生產環境部署指南

## 📦 安裝

### 全域安裝
```bash
npm install -g @mursfoto/cli
```

### 使用 npx（推薦）
```bash
npx @mursfoto/create-project my-awesome-project
```

## 🚀 快速開始

### 1. 環境檢查
```bash
# 檢查系統環境和依賴
mursfoto doctor
```

### 2. 創建新項目
```bash
# 互動式創建
mursfoto create

# 指定模板創建
mursfoto create my-project --template=minimal

# 使用 npx 直接創建
npx @mursfoto/create-project my-project --template=calculator
```

### 3. 開發和部署
```bash
cd my-project
npm install
npm run dev                 # 本地開發
mursfoto deploy            # 部署到 Zeabur
```

## � MCP 功能使用

### MCP 服務驗證
```javascript
// 在 Cline 環境中使用 Vision MCP
const mcp = require('@mursfoto/cli/lib/mcp/MCPManager');

// 桌面截圖 - 實際可用 ✅
const screenshot = await mcp.callMCP('vision', 'screenshot_desktop', {
  analysis_type: 'describe'
});

// OCR 文字識別 - 實際可用 ✅
const text = await mcp.callMCP('vision', 'analyze_image', {
  image_path: '/path/to/image.png',
  analysis_type: 'ocr'
});

// UI 元素分析 - 實際可用 ✅
const ui = await mcp.callMCP('vision', 'analyze_image', {
  analysis_type: 'ui_elements'
});
```

### 智能回退機制
```javascript
// 自動回退到本地實現
const files = await mcp.listDirectory('.');      // 自動回退到 fs.readdir
const memories = await mcp.searchMemories();     // 自動回退到本地記憶系統
const result = await mcp.query('SELECT * FROM'); // 自動回退到內存存儲
```

## 📋 命令參考

### Phase 4: MCP 生態系統

#### `mursfoto mcp [action]`
🔌 MCP 服務管理

**子命令:**
```bash
mursfoto mcp status               # MCP 服務狀態檢查
mursfoto mcp test                # 測試 MCP 功能
mursfoto mcp configure           # 配置 MCP 服務器
mursfoto mcp recommend           # 推薦 MCP 服務器
```

### Phase 1-3 命令 (完整保留)

#### `mursfoto create [name]`
創建新的 Mursfoto 服務項目

**選項:**
- `-t, --template <template>` - 使用指定模板 (minimal, calculator, test-tool, api-service)
- `-d, --directory <dir>` - 指定創建目錄
- `--no-install` - 跳過 npm install
- `--no-git` - 跳過 Git 初始化

#### `mursfoto smart [category] [action]`
🧠 完整的智能命令系統

**類別:**
- `learn` - 智能學習和決策系統
- `ai` - AI 代碼生成器
- `github` - GitHub 完全自動化
- `test` - 智能測試自動化
- `deploy` - 智能部署管道
- `cloud` - 多雲平台管理
- `container` - 容器優化服務
- `cost` - 成本分析服務

## 📝 更新日誌

### v3.2.0 (最新) - Phase 4: MCP 生態系統整合
- 🔌 **MCPManager 統一管理器** - 支持10個MCP服務的統一管理接口
- 🔄 **完整回退機制** - 在任何環境都能穩定運作，100%兼容性保證
- 🖼️ **Vision MCP 實際可用** - 在Cline中100%功能驗證通過
  - 桌面截圖功能 ✅
  - OCR文字識別 ✅
  - UI元素分析 ✅
- 🌐 **第三方MCP服務器整合** - 新增4個專業服務器支持
  - @notionhq/notion-mcp-server
  - @sentry/mcp-server
  - @supabase/mcp-server-supabase
  - @agent-infra/mcp-server-browser
- 📚 **17個推薦MCP服務器清單** - 完整的生態系統文檔
- ⚙️ **Sentry配置整合** - 完整的錯誤監控配置
- 🧪 **完整測試套件** - MCP功能和回退機制全面測試
- 🏢 **企業級部署指南** - 生產環境MCP配置文檔

### v3.1.0 - Phase 4B: 企業級發布和版本管理系統
- � **企業級發布系統** - 完整的自動化發布流程和版本管理
- 📝 **變更日誌自動生成** - 基於 Git 提交的智能變更記錄生成
- 📊 **NPM 統計追蹤** - 下載量監控和使用趨勢分析
- 🔄 **GitHub 自動化整合** - 自動 Release 創建和推送管理
- 🎨 **代碼品質提升** - ESLint 企業級代碼風格標準化
- ⚙️ **語義化版本管理** - 完整的 patch/minor/major 版本控制

### v3.0.0 - Phase 3: 雲端和容器管理
- 🌍 **多雲平台管理系統** - 統一管理 AWS、Azure、GCP、DigitalOcean、Vercel
- 🐳 **容器優化服務** - 智能 Dockerfile 和 K8s YAML 生成
- 💰 **成本分析引擎** - 跨平台成本比較和智能預測
- 🔒 **安全掃描系統** - 6 項容器安全檢查規則
- 📊 **智能推薦算法** - 多維度平台選擇建議

### v2.0.0 - Phase 2: AI 智能自動化
- 🧠 **智能學習和決策系統** - 完整的用戶行為學習引擎
- 🤖 **AI 代碼生成器** - Anthropic Claude API 整合
- 🔄 **GitHub 全自動化** - 從創建到發布的完整自動化
- 🧪 **智能測試自動化** - 自動測試生成和覆蓋率優化

### v1.0.0 - Phase 1: 基礎自動化
- 🎉 初始版本發布
- ✨ 完整的 CLI 工具架構
- 🚀 四種內建模板
- 🔗 Gateway 自動集成
- 🏥 智能環境診斷

## 🧪 測試

### MCP 功能測試
```bash
# 測試 MCP 整合功能
cd mursfoto-cli
node lib/mcp/test-mcp-integration.js

# 測試真實 MCP 服務
node test-real-mcp.js

# 檢查 MCP 服務狀態
mursfoto mcp status
```

### 完整功能測試
```bash
# 執行所有功能測試
npm test                  # 單元測試
npm run test:integration  # 集成測試
npm run test:coverage     # 測試覆蓋率
```

### 測試覆蓋範圍
- ✅ Phase 1: 基礎 CLI 功能 (8 個命令)
- ✅ Phase 2: 智能自動化功能 (16 個命令)  
- ✅ Phase 3: 雲端容器管理功能 (18 個命令)
- ✅ Phase 4: MCP 生態系統整合 (4 個命令)
- 🎯 總計: 46 個企業級命令

## 🤝 貢獻指南

歡迎貢獻代碼！請遵循以下流程：

1. Fork 本倉庫
2. 創建功能分支 (`git checkout -b feature/amazing-feature`)
3. 提交變更 (`git commit -m 'Add amazing feature'`)
4. 推送到分支 (`git push origin feature/amazing-feature`)
5. 創建 Pull Request

## 📄 許可證

本項目採用 MIT 許可證 - 查看 [LICENSE](LICENSE) 文件了解詳情。

## 🆘 支援

### 問題回報  
- [GitHub Issues](https://github.com/YenRuHuang/mursfoto-cli/issues)

### 文檔
- [MCP 實踐實施指南](docs/MCP_PRACTICAL_IMPLEMENTATION.md)
- [推薦 MCP 服務器清單](docs/RECOMMENDED_MCP_SERVERS.md)
- [MCP 遷移計劃](docs/MCP_MIGRATION_PLAN.md)
- [Phase 4E 完成報告](docs/PHASE4E_COMPLETION_REPORT.md)
- [API 文檔](docs/API.md)
- [開發文檔](docs/DEVELOPMENT.md)

### 聯繫方式
- 電子郵件: yenru@mursfoto.com

---

**🎉 由 Mursfoto 團隊用 ❤️ 製作**

> 讓 Web 服務開發變得簡單、快速、可靠！現在包含完整的 MCP 生態系統整合！ 🔌🌍🐳💰

**📊 統計數據:**
- **Phase 1**: 8 個基礎命令
- **Phase 2**: 16 個智能命令  
- **Phase 3**: 18 個雲端命令
- **Phase 4**: 4 個MCP命令
- **MCP服務**: 10個統一管理 + 17個推薦服務器
- **總計**: 46 個企業級命令 🏆
